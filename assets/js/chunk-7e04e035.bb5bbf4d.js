(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e04e035"],{"6fa4":function(e,c,t){},"71c3":function(e,c,t){"use strict";t("6fa4")},"91c8":function(e,c,t){"use strict";t.r(c);var l=function(){var e=this,c=e.$createElement,t=e._self._c||c;return t("div",{staticClass:"app-container"},[t("div",{staticClass:"cycleTimeRow day"},[t("el-checkbox",{attrs:{label:"每隔"},on:{change:function(c){return e.cycleCheckChange("day")}},model:{value:e.cycleTimeObj.day.preChecked,callback:function(c){e.$set(e.cycleTimeObj.day,"preChecked",c)},expression:"cycleTimeObj.day.preChecked"}}),t("el-input-number",{attrs:{"controls-position":"right",min:1,max:10},on:{change:e.cycleTimeChange},model:{value:e.cycleTimeObj.day.dayVal,callback:function(c){e.$set(e.cycleTimeObj.day,"dayVal",c)},expression:"cycleTimeObj.day.dayVal"}}),t("el-select",{staticClass:"cycleTimeSelect",attrs:{placeholder:"请选择"},model:{value:e.cycleTimeObj.day.dayType,callback:function(c){e.$set(e.cycleTimeObj.day,"dayType",c)},expression:"cycleTimeObj.day.dayType"}},[t("el-option",{attrs:{label:"天",value:"1"}}),t("el-option",{attrs:{label:"月",value:"2"}})],1),t("br"),t("el-time-picker",{attrs:{"picker-options":{},placeholder:"任意时间点",format:"HH:mm","value-format":"HH:mm"},model:{value:e.cycleTimeObj.day.dayTimeVal,callback:function(c){e.$set(e.cycleTimeObj.day,"dayTimeVal",c)},expression:"cycleTimeObj.day.dayTimeVal"}})],1),t("div",{staticClass:"cycleTimeRow week"},[t("el-checkbox",{attrs:{label:"每周"},on:{change:function(c){return e.cycleCheckChange("week")}},model:{value:e.cycleTimeObj.week.preChecked,callback:function(c){e.$set(e.cycleTimeObj.week,"preChecked",c)},expression:"cycleTimeObj.week.preChecked"}}),t("el-checkbox",{attrs:{indeterminate:e.cycleTimeObj.week.isWeekIndeterminate},on:{change:e.weekCheckAllChange},model:{value:e.cycleTimeObj.week.weekCheckAll,callback:function(c){e.$set(e.cycleTimeObj.week,"weekCheckAll",c)},expression:"cycleTimeObj.week.weekCheckAll"}},[e._v("全选")]),t("div",{staticStyle:{margin:"15px 0"}}),t("el-checkbox-group",{on:{change:e.weekCheckItemChange},model:{value:e.cycleTimeObj.week.weekCheckItems,callback:function(c){e.$set(e.cycleTimeObj.week,"weekCheckItems",c)},expression:"cycleTimeObj.week.weekCheckItems"}},e._l(e.cycleTimeObj.week.weekCheckItemData,(function(c,l){return t("el-checkbox",{key:l,attrs:{label:l+1}},[e._v(e._s(c))])})),1),t("el-time-picker",{attrs:{placeholder:"任意时间点",format:"HH:mm","value-format":"HH:mm"},model:{value:e.cycleTimeObj.week.weekTimeVal,callback:function(c){e.$set(e.cycleTimeObj.week,"weekTimeVal",c)},expression:"cycleTimeObj.week.weekTimeVal"}})],1),t("div",{staticClass:"cycleTimeRow month"},[t("el-checkbox",{attrs:{label:"每月"},on:{change:function(c){return e.cycleCheckChange("month")}},model:{value:e.cycleTimeObj.month.preChecked,callback:function(c){e.$set(e.cycleTimeObj.month,"preChecked",c)},expression:"cycleTimeObj.month.preChecked"}}),t("el-checkbox",{attrs:{indeterminate:e.cycleTimeObj.month.ismonthIndeterminate},on:{change:e.monthCheckAllChange},model:{value:e.cycleTimeObj.month.monthCheckAll,callback:function(c){e.$set(e.cycleTimeObj.month,"monthCheckAll",c)},expression:"cycleTimeObj.month.monthCheckAll"}},[e._v("全选")]),t("div",{staticStyle:{margin:"15px 0"}}),t("el-checkbox-group",{on:{change:e.monthCheckItemChange},model:{value:e.cycleTimeObj.month.monthCheckItems,callback:function(c){e.$set(e.cycleTimeObj.month,"monthCheckItems",c)},expression:"cycleTimeObj.month.monthCheckItems"}},e._l(e.cycleTimeObj.month.monthCheckItemData,(function(e){return t("el-checkbox",{key:e,attrs:{label:e}})})),1),t("el-time-picker",{attrs:{placeholder:"任意时间点",format:"HH:mm","value-format":"HH:mm"},model:{value:e.cycleTimeObj.month.monthTimeVal,callback:function(c){e.$set(e.cycleTimeObj.month,"monthTimeVal",c)},expression:"cycleTimeObj.month.monthTimeVal"}})],1)])},a=[];const i=["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],n=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"];var h={name:"scheduledTask",data(){return{listLoading:!1,dialogVisible:!1,formLabelWidth:"156px",searchContent:"",scheduleType:"",cycleTimeObj:{day:{preChecked:!1,dayVal:"",dayType:"",dayTimeVal:""},week:{preChecked:!1,isWeekIndeterminate:!1,weekCheckAll:!1,weekCheckItems:[],weekCheckItemData:i,weekTimeVal:""},month:{preChecked:!1,ismonthIndeterminate:!1,monthCheckAll:!1,monthCheckItems:[],monthCheckItemData:n,monthTimeVal:""}},cycleTypeArr:["day","week","month"],detailDialogVisible:!1,volOptions:[],dialogFlag:"",backupLogTableData:[]}},created(){},methods:{handleSizeChange(e){this.pageSize=e,this.fetchData(e,this.currentPage)},currentPageChange(e){this.currentPage=e,this.fetchData(this.pageSize,e)},handleDetail(e,c){this.detailDialogVisible=!0},handleDel(e,c){this.$confirm("是否确认删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await delNfs({nfs_id:c.nfs_id}),this.tableData.splice(e,1),this.$message({message:"删除成功！",type:"success"})}).catch(e=>{console.log(e),this.$message({message:"已取消删除",type:"warning"})})},cycleTimeChange(e){console.log("cycleTimeChange",e)},weekCheckAllChange(e){console.log("weekCheckAllChange",e),this.cycleTimeObj.week.weekCheckItems=e?[1,2,3,4,5,6,7]:[],this.cycleTimeObj.week.isWeekIndeterminate=!1},weekCheckItemChange(e){console.log("weekCheckItemChange",e),this.cycleTimeObj.week.weekCheckItems=e;const c=e.length;this.cycleTimeObj.week.weekCheckAll=c===this.cycleTimeObj.week.weekCheckItemData.length,this.cycleTimeObj.week.isWeekIndeterminate=c>0&&c<this.cycleTimeObj.week.weekCheckItemData.length},monthCheckAllChange(e){console.log("monthCheckAllChange",e),this.cycleTimeObj.month.monthCheckItems=e?n:[],this.cycleTimeObj.month.ismonthIndeterminate=!1},monthCheckItemChange(e){console.log("monthCheckItemChange",e);const c=e.length;this.cycleTimeObj.month.monthCheckAll=c===this.cycleTimeObj.month.monthCheckItemData.length,this.cycleTimeObj.month.ismonthIndeterminate=c>0&&c<this.cycleTimeObj.month.monthCheckItemData.length},cycleCheckChange(e){if(console.log("cycleCheckChange",e,this.cycleTimeObj[e].preChecked),this.cycleTimeObj[e].preChecked)switch(this.cycleTypeArr.splice(this.cycleTypeArr.findIndex(c=>c==e),1),e){case"day":this.scheduleType=1;break;case"week":this.scheduleType=2;break;case"month":this.scheduleType=3;break}3!=this.cycleTypeArr.length&&(this.cycleTypeArr.forEach(e=>{document.getElementsByClassName("cycleTimeRow "+e)[0].classList.toggle("noclick")}),this.cycleTypeArr=this.cycleTimeObj[e].preChecked?this.cycleTypeArr:["day","week","month"])},ipArrFn(e){const c=[];return e.forEach((e,t)=>{c.push({value:e,label:e})}),c},typeSwitch(e){switch(e){case 1:this.strategyForm.back_time=this.cycleTimeObj.day.dayTimeVal,this.strategyForm.content=this.cycleTimeObj.day.dayVal,this.strategyForm.dayofday_type=this.cycleTimeObj.day.dayType;break;case 2:this.strategyForm.back_time=this.cycleTimeObj.week.weekTimeVal,this.strategyForm.content=this.cycleTimeObj.week.weekCheckItems.join(","),this.strategyForm.dayofday_type=0;break;case 3:this.strategyForm.back_time=this.cycleTimeObj.month.monthTimeVal,this.strategyForm.content=this.cycleTimeObj.month.monthCheckItems.join(","),this.strategyForm.dayofday_type=0;break}}}},m=h,s=(t("71c3"),t("2877")),o=Object(s["a"])(m,l,a,!1,null,"142a289b",null);c["default"]=o.exports}}]);