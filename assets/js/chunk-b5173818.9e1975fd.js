(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b5173818"],{"17edf":function(t,e,i){},"1d57":function(t,e,i){},"828d":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"ipSetup-btns"},[i("div",[i("div",[i("el-button",{attrs:{type:"primary"},on:{click:t.addBtn}},[t._v("修改IP")]),i("el-button",{attrs:{type:"primary",disabled:!t.currentClickData},on:{click:t.delBtn}},[t._v("删除")])],1)])]),i("div",{staticClass:"ipSetup-mgr"},[i("div",{staticClass:"ipSetup-table"},[i("el-table",{staticClass:"table-class",attrs:{data:t.tableData,"element-loading-text":"Loading",fit:"","highlight-current-row":"","header-cell-style":{color:"#5388f3"},center:""},on:{"row-click":t.rowClick}},[i("el-table-column",{attrs:{align:"center",label:"序号",type:"index",width:"60"}}),i("el-table-column",{attrs:{align:"center",label:"IP"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.ip)+" ")]}}])}),i("el-table-column",{attrs:{label:"子网掩码",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.subnetMask)+" ")]}}])}),i("el-table-column",{attrs:{label:"默认网关",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.gateWay)+" ")]}}])}),i("el-table-column",{attrs:{label:"DNS",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.dns)+" ")]}}])})],1)],1)]),i("el-dialog",{attrs:{title:"新增",visible:t.addDialogVisible,modal:"","append-to-body":"",center:"",width:"450px"},on:{"update:visible":function(e){t.addDialogVisible=e},close:function(e){return t.addDialogClose("ipForm")}}},[i("el-form",{ref:"ipForm",attrs:{model:t.ipForm,rules:t.ipFormRules}},[i("el-form-item",{attrs:{label:"ip","label-width":t.formLabelWidth,prop:"ip"}},[i("ip-input",{ref:"ipInput",attrs:{ipVal:t.ipForm.ip},on:{ipInputChange:t.ipInputChange}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.addDialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.submitAddForm}},[t._v("保存")])],1)],1)],1)},r=[],a=i("b775");function o(t){return Object(a["a"])({url:"/cifs/getCifsList",method:"get",params:t})}var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ip-container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ipArr[0],expression:"ipArr[0]"}],attrs:{id:"ip-0",type:"text"},domProps:{value:t.ipArr[0]},on:{input:[function(e){e.target.composing||t.$set(t.ipArr,0,e.target.value)},function(e){return t.ipinput("ip",0)}],keydown:function(e){return t.keydownHandle("ip",0,e)}}}),i("span",[t._v(".")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.ipArr[1],expression:"ipArr[1]"}],attrs:{id:"ip-1",type:"text"},domProps:{value:t.ipArr[1]},on:{input:[function(e){e.target.composing||t.$set(t.ipArr,1,e.target.value)},function(e){return t.ipinput("ip",1)}],keydown:function(e){return t.keydownHandle("ip",1,e)}}}),i("span",[t._v(".")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.ipArr[2],expression:"ipArr[2]"}],attrs:{id:"ip-2",type:"text"},domProps:{value:t.ipArr[2]},on:{input:[function(e){e.target.composing||t.$set(t.ipArr,2,e.target.value)},function(e){return t.ipinput("ip",2)}],keydown:function(e){return t.keydownHandle("ip",2,e)}}}),i("span",[t._v(".")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.ipArr[3],expression:"ipArr[3]"}],attrs:{id:"ip-3",type:"text"},domProps:{value:t.ipArr[3]},on:{input:[function(e){e.target.composing||t.$set(t.ipArr,3,e.target.value)},function(e){return t.ipinput("ip",3)}],keydown:function(e){return t.keydownHandle("ip",3,e)}}})])},s=[],u={name:"IpInput",props:{ipVal:{type:String,default:"192.168.0.1"}},data(){return{ipArr:[]}},created(){this.ipArr=this.ipVal.split("."),console.log(this.ipArr)},methods:{ipinput(t,e){if(this.ipArr[e]=this.ipArr[e].replace(/[^\d]/g,"")>255?255:this.ipArr[e].replace(/[^\d]/g,""),3==document.getElementById(t+"-"+e).value.length){const i=e+1;4!=i&&document.getElementById(t+"-"+i).focus()}if(0==document.getElementById(t+"-"+e).value.length){const i=e-1;-1!=i&&document.getElementById(t+"-"+i).focus()}this.$emit("ipInputChange","ip",this.ipArr.join("."))},keydownHandle(t,e,i){console.log(document.getElementById(t+"-"+e));const n=document.getElementById(t+"-"+e).value.length,r=document.getElementById(t+"-"+e).selectionStart;39==i.keyCode&&e<3&&r==n&&document.getElementById(t+"-"+(e+1)).focus(),37==i.keyCode&&e>0&&0==r&&document.getElementById(t+"-"+(e-1)).focus()}}},d=u,p=(i("db83"),i("2877")),c=Object(p["a"])(d,l,s,!1,null,"c96feb62",null),m=c.exports,g={components:{IpInput:m},filters:{statusFilter(t){const e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},data(){const t=(t,e,i)=>{const n=e.split(".");n.some(t=>""==t)?i(new Error(t.field+"不能为空")):i()};return{currentClickData:null,tableData:[{ip:"192.168.66.202",subnetMask:"255.255.255.0",gateWay:"192.168.66.1",dns:"192.168.1.1"}],addDialogVisible:!1,formLabelWidth:"110px",ipForm:{ip:"255.255.255.9",subnetMask:[6,6,6,6],gateWay:[6,6,6,6]},ipFormRules:{ip:[{required:!0,trigger:"blur",validator:t}],subnetMask:[{required:!0,trigger:"blur",validator:t}],gateWay:[{required:!0,trigger:"blur",validator:t}]}}},created(){},methods:{ipInputChange(t,e){console.log(t,e),this.ipForm[t]=e},backBtn(){this.$router.go(-1)},addBtn(){this.addDialogVisible=!0,this.isAddBtnFlag=!0},delBtn(){this.$confirm("确认删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async t=>{this.$message({message:"删除成功！",type:"success"})}).catch(t=>{console.log(t),this.$message({message:"已取消删除",type:"warning"})})},fetchData(){o(this.getParams).then(t=>{this.tableData=t.data.data,this.totalCount=t.data.data.length}).catch(t=>{})},rowClick(t){console.log("rowClick",t),this.currentClickData=t},submitAddForm(){this.$refs.ipForm.validate(t=>{if(!t)return console.log("error submit"),!1;console.log(this.ipForm),this.tableData[0].ip=this.ipForm.ip,this.addDialogVisible=!1})},addDialogClose(t){this.$resetForm(this,t)},ipinput(t,e){if(this.ipForm[t][e]=this.ipForm[t][e].replace(/[^\d]/g,"")>255?255:this.ipForm[t][e].replace(/[^\d]/g,""),3==document.getElementById(t+"-"+e).value.length){const i=e+1;4!=i&&document.getElementById(t+"-"+i).focus()}if(0==document.getElementById(t+"-"+e).value.length){const i=e-1;-1!=i&&document.getElementById(t+"-"+i).focus()}},keydownHandle(t,e,i){const n=document.getElementById(t+"-"+e).value.length,r=document.getElementById(t+"-"+e).selectionStart;39==i.keyCode&&e<3&&r==n&&document.getElementById(t+"-"+(e+1)).focus(),37==i.keyCode&&e>0&&0==r&&document.getElementById(t+"-"+(e-1)).focus()},ipFormLabel(t){switch(t){case"ip":return"ip";case"subnetMask":return"子网掩码";case"gateWay":return"默认网关"}}},computed:{}},f=g,h=(i("9f1e"),Object(p["a"])(f,n,r,!1,null,"4548bb83",null));e["default"]=h.exports},"9f1e":function(t,e,i){"use strict";i("1d57")},db83:function(t,e,i){"use strict";i("17edf")}}]);